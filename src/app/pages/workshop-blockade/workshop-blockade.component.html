<!-- Encabezado -->
<header class="bg-white border-b p-4 flex items-center justify-between">
    <h1 class="text-lg font-medium">Bloqueo de Salones</h1>
</header>

<!-- Contenido principal -->
<div class="p-6">
    <div class="bg-white w-full h-full rounded-2xl shadow p-6 flex flex-col">

        <!-- Encabezado: búsqueda + botón -->
        <div class="flex items-center gap-4 mb-4">

            <!-- Buscador -->
            <div class="flex items-center flex-1">
                <label for="search" class="sr-only">Buscar</label>
                <div class="relative w-full">
                    <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                        <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 21l-4.35-4.35M17 11A6 6 0 105 11a6 6 0 0012 0z" />
                        </svg>
                    </div>
                    <input type="text" id="search" placeholder="Buscar por nombre"
                        class="block w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-black focus:outline-none" 
                        [(ngModel)]="searchTerm" (ngModelChange)="onSearchChange()" />
                </div>
            </div>

            <!-- Botón Agregar Salón -->
            <a [routerLink]="['/classrooms/create']" data-modal-target="popup-modal" data-modal-toggle="popup-modal"
                class="bg-[#262626] hover:bg-black text-white text-sm font-medium px-4 py-2 rounded-lg text-center transition-colors">
                Agregar Salón
            </a>
        </div>

        <!-- Línea separadora -->
        <hr class="border-[#E8E8E8] mb-4" />

        <!-- Contenedor de cards -->
        <div class="overflow-y-auto max-h-[475px] rounded-lg">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                <div *ngFor="let classroom of filteredClassrooms"
                    class="bg-white shadow-sm border border-slate-200 rounded-xl w-full"  style="overflow: hidden;">
                    <!-- Header -->
                    <div class="border-b bg-[#FAFAFA] border-slate-200 pt-3 pb-2 px-4">
                        <div
                            class="w-6 h-6 rounded-full bg-white border border-[#E8E8E8] text-[#000000] flex items-center justify-center text-xs font-semibold">
                            {{ classroom.id }}
                        </div>
                    </div>

                    <!-- Contenido -->
                    <div class="grid grid-cols-2 gap-4 px-4 py-4 items-center">
                        <div>
                            <h2 class="font-medium text-lg mb-3"><i class="ti ti-buildings"></i> Aula</h2>
                            <p class="text-sm">{{ classroom.name }}</p>
                        </div>
                        <div class="flex justify-end">
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" class="sr-only peer" [checked]="!classroom.is_blocked" disabled>
                                <div class="w-11 h-6 rounded-full transition-colors duration-300" [ngClass]="{
                'bg-gray-300': classroom.is_blocked,
                'bg-blue-600': !classroom.is_blocked
              }">
                                </div>
                                <div class="absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full transition-transform duration-300"
                                    [ngClass]="{
                'translate-x-0': classroom.is_blocked,
                'translate-x-5': !classroom.is_blocked
              }">
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>